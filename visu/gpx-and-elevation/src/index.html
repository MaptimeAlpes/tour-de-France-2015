<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css" />
  <link rel="stylesheet" type="text/css" href="https://raw.githubusercontent.com/MrMufflon/Leaflet.Elevation/master/dist/leaflet.elevation-0.0.4.css" />
  <link rel="stylesheet" type="text/css" href="css/styles.css" />
  <title>MapTime-Alpes - Tour de France 2015 GPX and Elevation</title>
</head>

<body>
  <div id="leaflet-map"></div>
  <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"></script>
  <script src="https://rawgithub.com/mpetazzoni/leaflet-gpx/master/gpx.js"></script>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="https://raw.githubusercontent.com/MrMufflon/Leaflet.Elevation/master/dist/leaflet.elevation-0.0.4.min.js"></script>
  <script type="text/javascript">
    var map = L.map('leaflet-map');
    L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: 'Map data &copy; <a href="http://www.osm.org">OpenStreetMap</a>'
    }).addTo(map);

    var el = L.control.elevation();
    el.addTo(map);

    var url = 'https://raw.githubusercontent.com/MaptimeAlpes/tour-de-france-2015/master/data/gpx/MapMyTrack-Route-Tour-de-Force-2015Stage-01UtrechtPrologue.gpx';
    new L.GPX(url, {
      async: true,
      marker_options: {
        startIconUrl: 'http://github.com/mpetazzoni/leaflet-gpx/raw/master/pin-icon-start.png',
        endIconUrl: 'http://github.com/mpetazzoni/leaflet-gpx/raw/master/pin-icon-end.png',
        shadowUrl: 'http://github.com/mpetazzoni/leaflet-gpx/raw/master/pin-shadow.png',
      },
    }).on('loaded', function(e) {
      var gpx = e.target;
      map.fitBounds(gpx.getBounds());
    }).on('addline', function(e) {
      el.addData(e.line);
    }).addTo(map);
  </script>




</body>

</html>
